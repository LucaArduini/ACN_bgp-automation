name: project

topology:
    nodes:
      
      n1:
        
        kind: linux
        
        
        image: quay.io/frrouting/frr:10.4.1
        mgmt-ipv4: 172.20.20.8
        startup-config: configs/n1.conf
        
      
      n2:
        
        kind: linux
        
        
        image: quay.io/frrouting/frr:10.4.1
        mgmt-ipv4: 172.20.20.9
        startup-config: configs/n2.conf
        
      
      ce1:
        
        kind: linux
        
        
        image: quay.io/frrouting/frr:10.4.1
        mgmt-ipv4: 172.20.20.11
        startup-config: configs/ce1.conf
        
      
      ce2:
        
        kind: linux
        
        
        image: quay.io/frrouting/frr:10.4.1
        mgmt-ipv4: 172.20.20.12
        startup-config: configs/ce2.conf
        
      
      pe1:
        
        kind: linux
        
        
        image: quay.io/frrouting/frr:10.4.1
        mgmt-ipv4: 172.20.20.13
        startup-config: configs/pe1.conf
        
      
      pe2:
        
        kind: linux
        
        
        image: quay.io/frrouting/frr:10.4.1
        mgmt-ipv4: 172.20.20.14
        startup-config: configs/pe2.conf
        
      
      gw1:
        
        kind: linux
        
        
        image: quay.io/frrouting/frr:10.4.1
        mgmt-ipv4: 172.20.20.15
        startup-config: configs/gw1.conf
        
      
      gw2:
        
        kind: linux
        
        
        image: quay.io/frrouting/frr:10.4.1
        mgmt-ipv4: 172.20.20.16
        startup-config: configs/gw2.conf
        
      
      up1:
        
        kind: linux
        
        
        image: quay.io/frrouting/frr:10.4.1
        mgmt-ipv4: 172.20.20.17
        startup-config: configs/up1.conf
        
      
      up2:
        
        kind: linux
        
        
        image: quay.io/frrouting/frr:10.4.1
        mgmt-ipv4: 172.20.20.18
        startup-config: configs/up2.conf
        
      
      n3:
        
        kind: linux
        
        
        image: quay.io/frrouting/frr:10.4.1
        mgmt-ipv4: 172.20.20.10
        startup-config: configs/n3.conf
        
      
      lan:
        
        kind: bridge
        
        
      

    links:
      
          - endpoints: ["n1:n1-eth1", "ce1:ce1-eth10"]
      
          - endpoints: ["n2:n2-eth2", "ce2:ce2-eth10"]
      
          - endpoints: ["ce1:ce1-eth1", "pe1:pe1-eth1"]
      
          - endpoints: ["ce1:ce1-eth2", "pe2:pe2-eth1"]
      
          - endpoints: ["ce2:ce2-eth1", "pe1:pe1-eth2"]
      
          - endpoints: ["ce2:ce2-eth2", "pe2:pe2-eth2"]
      
          - endpoints: ["pe1:pe1-eth3", "lan:lan-eth1"]
      
          - endpoints: ["pe2:p2-eth3", "lan:lan-eth2"]
      
          - endpoints: ["gw1:gw1-eth3", "lan:lan-eth3"]
      
          - endpoints: ["gw2:gw2-eth3", "lan:lan-eth4"]
      
          - endpoints: ["gw1:gw1-eth4", "up1:up1-eth1"]
      
          - endpoints: ["gw2:gw2-eth4", "up2:up2-eth1"]
      
          - endpoints: ["up1:up1-eth10", "n3:n3-eth1"]
      
          - endpoints: ["up2:up2-eth10", "n3:n3-eth2"]
      